# 17. Распределение слоёв

Всем привет, я вернулся с отличным постом.

Когда-то давным-давно, года 3-4 назад, я был озадачен идеей скрипта, который распределяет слои в AE с равным расстоянием между ними, а не вот это то что сейчас. 

Я написал небольшой скрипт, который выполнял то, что я хотел, и забыл о нём.

Гифка того, как должно быть
![](https://github.com/CodingFucking/ae_tips/blob/main/src/17-distr.gif)
расстановка с одинаковым расстоянием

Гифки того, что есть дефолтно в AE

![](https://github.com/CodingFucking/ae_tips/blob/main/src/17-l.gif)
по левому краю

![](https://github.com/CodingFucking/ae_tips/blob/main/src/17-center.gif)
по центральной оси

![](https://github.com/CodingFucking/ae_tips/blob/main/src/17-r.gif)
по правому краю

В середине января 24 года я листал сайт [аескриптс](https://aescripts.com/), увидел [скрипт](https://aescripts.com/align-pro/), решающий проблему распределения в АЕ, и решил проверить, как он работает — круто! 

Есть ещё очень хороший пример усовершенствования дефолтного набора инструментов, который предлагает AE — [Paragraph 2.0](https://t.me/ArtWarch/53), он меняет выключку текста нормально, там ссылка кликабельна и есть подробная гифка с описанием того, как оно работает.

Но я решил восстановить и свои наброски по решению расстановки слоёв, поэтому это и пишу, на самом-то деле всё просто. 

### Решение руками

Рассмотрим вариант с горизонтальной расстановкой.
Нам нужно отсортировать слои по их центру по иксу.

![](https://github.com/CodingFucking/ae_tips/blob/main/src/17-1.gif)
Далее нужно получить рабочую область, она начинается с правой границы первого слоя и заканчивается левой границей последнего слоя.

![](https://github.com/CodingFucking/ae_tips/blob/main/src/17-2.gif)
Потом считаем размеры слоёв, которые находятся между первым и последним.

![123 + 15,9 + 68,4 = 207,3]
![](https://github.com/CodingFucking/ae_tips/blob/main/src/17-3.gif)

123 + 15,9 + 68,4 = 207,3

Далее полученный результат вычитаем из рабочей области:

```
668 - 207,3 = 460,7             //размер пустого пространства
460,7 / 4 = 115                 //делим на количество слоёв - 1
115                             //наше искомое растояние
```

![](https://github.com/CodingFucking/ae_tips/blob/main/src/17-4.gif)

Ну и применяем смещения параметров.

### Не хочу сам руками решать

Предлагаю вам воспользоваться скриптом, который я написал. 
С самого начала канала я не преследовал никакой цели монетизации, но времена меняются)).

Глобально решил разместить на Гамроад

- Скачать с Гамроад
    
    Тама можно как купить, так и просто скачать.
    
    [Align & Distribute PRO](https://signmotionde.gumroad.com/l/align_distribute)
    

- Скачать напрямую
    
    [скрипт можно закрепить в UI панель AE](https://github.com/CodingFucking/ae_tips/blob/main/src/AlignDistributePRO.jsxbin)
    
- Донаты
    
    Как понимаете это опционально, я вообще не требую от вас ничего. Просто можете распространить это среди знакомых или протестировать как работает скрипт.
    
    [CloudTips – чаевые и донаты картой моментально](https://pay.cloudtips.ru/p/d9dc9a81)
    
    ![https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExaGxkc2NhaXNtb2lnYjd4dTZxeDQ1N2h4ZnQwNXd2NGNsNHJmNDdkdiZlcD12MV9naWZzX3NlYXJjaCZjdD1n/YZGJc1WmUZPi0/giphy.gif](https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExaGxkc2NhaXNtb2lnYjd4dTZxeDQ1N2h4ZnQwNXd2NGNsNHJmNDdkdiZlcD12MV9naWZzX3NlYXJjaCZjdD1n/YZGJc1WmUZPi0/giphy.gif)
    

Я планирую добавить ещё пару фич и, скорее всего, раз Адобы завезли расстановку по пространству в ФШ, возможно они добавят это в AE, и будет грустно от проделанной работы. Но в текущем релизе AE этого нет и это радует.

Если вам интересны подобные фишки, то подписывайтесь на https://t.me/ae_tips
