# 02. Заполнение времени с одинаковым интервалом

Сегодня мы рассмотрим как заполнять время с одинаковым интервалом.

![https://miro.medium.com/v2/resize:fit:1400/1*Jq-wyJTYc5bQwSuCKxh4Fg.jpeg](https://miro.medium.com/v2/resize:fit:1400/1*Jq-wyJTYc5bQwSuCKxh4Fg.jpeg)

У меня частенько возникает потребность заполнять это в погодных шаблонах и сегодня я хочу рассказать как я это решил.

В итоги должно получиться что-то вроде этого:

![Удобный регулятор в одном месте.](https://miro.medium.com/v2/resize:fit:1200/0*hIPdmmFHwEP7N6_r.gif)

Удобный регулятор в одном месте.

![И в обратном направлении.](https://miro.medium.com/v2/resize:fit:1200/0*NE-pX8iFzSmr8Ksw.gif)

И в обратном направлении.

# **Задача**

Есть несколько текстовых слоёв, необходимо в один забить исходное время и что бы время последующего слоя смещалось на заданный интервал. Нужно сделать что бы время как прибавлялось от исходного так и уменьшалось. Работать необходимо только с часами, минуты не учитываем.

# **Решение**

Создаём текстовый откуда у нас будет браться исходное время. Назовём его «INSERT_TIME».
Далее создадим слой «time_01» это и будет нашим главным слоем.
Накидываем на него 3 слайдера:

**num** — будет контролировать слой по счёту.
**hour_value** — будет выдавать час из слоя «INSERT_TIME».
**min_value** — будет выдавать минуты из слоя «INSERT_TIME».
**interval** — будет задавать нам нужное смещение.

И чекбоксов:
**hourZero** — будет выбирать из формата часа между „09:41“ и „9:41“.
**min** — включает/выключает минуты.

В num прописываем следующее:
**num = parseInt(thisLayer.name.slice(-2)) || 1;**

Это выражение будет давать нам цифру из названия слоя.

В hour_value такое выражение:

![Оно будет брать час из «INSERT_TIME» [Скачать.](https://gist.github.com/CodingFucking/4dcdbf96f32938dadf825a601fd611d1)](https://miro.medium.com/v2/resize:fit:1400/0*OjIfy5odiHSMupYN.jpg)

Оно будет брать час из «INSERT_TIME» [Скачать.](https://gist.github.com/CodingFucking/4dcdbf96f32938dadf825a601fd611d1)

А в min_value:

![По аналогии с часами только с минутами. [Скачать.](https://gist.github.com/CodingFucking/23ca97b7330a6b117eb1e4d3d0ef511d)](https://miro.medium.com/v2/resize:fit:1400/0*zdB37piR-aJhjaoM.jpg)

По аналогии с часами только с минутами. [Скачать.](https://gist.github.com/CodingFucking/23ca97b7330a6b117eb1e4d3d0ef511d)

С переменными закончили, теперь небольшое выражение, которое вставим в сурс текст:

![Но это выражение подходит только для первого слоя, а я хочу создать первый слой и копировать его. ](https://miro.medium.com/v2/resize:fit:974/0*asl5uhDm1yL3nRJr.png)

Но это выражение подходит только для первого слоя, а я хочу создать первый слой и копировать его. 

Тогда я поступлю так:

![https://miro.medium.com/v2/resize:fit:1060/0*9r9ApiW4-s510E3C.png](https://miro.medium.com/v2/resize:fit:1060/0*9r9ApiW4-s510E3C.png)

А для тех слоёв, которые не первые создадим парочку условий посложней:

![https://miro.medium.com/v2/resize:fit:1400/0*Ue-q855shRIn-R6r.png](https://miro.medium.com/v2/resize:fit:1400/0*Ue-q855shRIn-R6r.png)

Здесь я учёл только если час + интервал меньше 10, и если интервал положителен. Вот [ССЫЛКА](https://gist.github.com/CodingFucking/0bf390a2d10b4bb99ca1bbb9f732e661) здесь я расписал в полном коде что да как работает.

А по этой [ССЫЛКЕ](https://gist.github.com/CodingFucking/19b812c9151ffc8afc4d16acb2eddcca) можно посмотреть готовый код без комментов. Там около 200 строк здесь это довольно-таки скучно будет расписывать, можете почитать что в коде написано или просто скопировать под свои задачи. Да есть недочёты в нём, если интервал больше 24, то всё становится худо, но у меня и не было такой задачи. Но в целом задача решена, и я этому рад!

Отдельная благодарность за советы и перепосты [Warch](https://t.me/Art_Warch)’у.
Если вам интересны подобные фишки, то подписывайтесь на https://t.me/ae_tips
