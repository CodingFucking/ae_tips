# 04. Автоперенос фамилии

Сегодня будем вбивать имя и фамилию в текстовый слой, чтобы фамилия переносилась на вторую строчку.

![https://miro.medium.com/v2/resize:fit:1400/1*T-Sd9hyR38VePGUM_dcqKA.jpeg](https://miro.medium.com/v2/resize:fit:1400/1*T-Sd9hyR38VePGUM_dcqKA.jpeg)

Вот для наглядности гифки процесса до и после:

![До](https://miro.medium.com/v2/resize:fit:1200/0*Yg-KQcyDSmRAwMeH.gif)

До

![После](https://miro.medium.com/v2/resize:fit:1200/0*7_hi8DPp9NWTpJQM.gif)

После

Изначально задача простая, но хотелось бы сразу рассмотреть возможные варианты. 
После изучения статьи о фамильных приставках, выявлено 3 главных типа:

- **Дмитрий Дюжев** (здесь переносим фамилию на следующую строчку)
- **Жан-Клод Ван Дамм** (Ван Дамм на следующую строчку)
- **Иоганн Вольфганг фон Гёте** (фон Гёте на следующую строчку)

Будем экспериментировать над этой троицей. Для начала напишем такое выражение:

```jsx
***var str = value;
if (str.match(/^\S+\s\S+$/g)) {
	var re = /^(\S+)\s+/;str.replace(re, “$1\r”);
}***
```

Дальше создадим шаблоны для второго и третьего типа по образу и подобию с первым:

![Получаем такое выражение [*Скачать выражение.*](https://gist.github.com/CodingFucking/5b6afb5516c3d40422e28aa1955b98bb)](https://miro.medium.com/v2/resize:fit:1012/0*lfk5BX9kVRlxu033.png)

Получаем такое выражение [*Скачать выражение.*](https://gist.github.com/CodingFucking/5b6afb5516c3d40422e28aa1955b98bb)

### Теперь рассмотрим подробнее как это работает

Первая строчка заменяет двойные или тройные пробелы на одинарный, чтобы было легче 
в дальнейшем работать. В условиях ищем совпадение с шаблоном поиска, если оно есть, то задаём шаблон замены и производим её.

Если вам интересны подобные фишки, то подписывайтесь на https://t.me/ae_tips
